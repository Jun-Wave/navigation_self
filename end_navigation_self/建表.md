1. 文件表

   | fid  | cid(所属目录) | uid(所属用户) | title(网址名称) | url(网址) | imgurl(网址logo) | introduce(网址介绍) |
   | ---- | ------------- | ------------- | --------------- | --------- | ---------------- | ------------------- |
   |      |               |               |                 |           |                  |                     |
   |      |               |               |                 |           |                  |                     |
   |      |               |               |                 |           |                  |                     |

   1.增删改查 移动(修改所属目录)

2. 目录表

   | cid  | uid(所属用户) | title(目录名称) | introduce(目录介绍) | father_id | layer(层级) |
   | ---- | ------------- | --------------- | ------------------- | --------- | ----------- |
   |      |               |                 |                     |           |             |
   |      |               |                 |                     |           |             |
   |      |               |                 |                     |           |             |

   1. 增删改查 移动
   2. 获取全部目录
   3. 目录层级不能大于5
   4. 点击某目录获取该目录下的文件和子目录
   5. 

3. 用户表

   | uid  | email | cid  | password | name | user_img | last_login_at |
   | ---- | ----- | ---- | -------- | ---- | -------- | ------------- |
   |      |       |      |          |      |          |               |
   |      |       |      |          |      |          |               |
   |      |       |      |          |      |          |               |

   

4. 用户-目录表

   | uid  | cid  |
   | ---- | ---- |
   |      |      |
   |      |      |
   |      |      |



5. 好友表

   | id   | uid  | fid(好友id) | name(备注) |
   | ---- | ---- | ----------- | ---------- |
   |      |      |             |            |
   |      |      |             |            |
   |      |      |             |            |



6. 消息暂存表

   | uid  | fid  | msg(消息) | time(发送的时间) |
   | ---- | ---- | --------- | ---------------- |
   |      |      |           |                  |
   |      |      |           |                  |
   |      |      |           |                  |

   


接口：



1. 用户
   1. 注册
   
   2. 登录
   
      获取token, 连接

   3. 忘记密码/修改密码
   
   4. 修改用户名
   
   5. 修改头像
   
1. 网址目录
   1. 获取全部目录
   2. 修改单个目录名称
      1. 建一个map映射
   3. 修改目录的位置：要判断新位置的父目录层级是否大于4
   4. 删除目录：需要删除子目录和子文件
   5. 增加目录：要判断父级目录层级是否大于4
   6. 分享目录
2. 网址
   1. 点击目录，获取该目录所有的子目录和子网址
   2. 增加网址
   3. 删除单个网址
   4. 删除多个网址
   5. 修改网址
   6. 移动网址
   7. 分享网址

4. 好友

   1. 添加好友

      路径：/friends/add

      请求方式：post

      | 参数  | 例子             | 备注           |
      | ----- | ---------------- | -------------- |
      | email | 123456789@qq.com | 用户邮箱       |
      | msg   | "加个好友呗"     | 附加信息(选填) |

      请求之前，需要检查该用户是否存在

      请求方： 先查询，再添加，添加之后

      接受方：接受方在线，接受方接受信息；接受方不在线，保持在表中，等待接受方登录

      ​	消息id，用户信息(邮箱、昵称、头像、附加信息)		删除消息	

   2. 同意添加好友

      路径：/friends/accept

      请求方式：post

      | 参数 | 例子             | 备注           |
      | ---- | ---------------- | -------------- |
      | uid  | 01               | 用户id         |
      | fid  | 123456789@qq.com | 好友id         |
      | msg  | "同意"           | 附加信息(选填) |
      | name | "好友1"          | 好友备注(选填) |

   3. 拒绝添加好友

      路径：/friends/refuse

      请求方式：post

      | 参数 | 例子   | 备注           |
      | ---- | ------ | -------------- |
      | uid  | 01     | 用户id         |
      | fid  | 02     | 好友id         |
      | msg  | "拒绝" | 附加信息(选填) |
      
         
      
   4. 备注好友

      路径：/friends/name

      请求方式：put

      | 参数 | 例子    | 备注     |
      | ---- | ------- | -------- |
      | uid  | 01      | 用户id   |
      | fid  | 02      | 好友id   |
      | name | "好友1" | 好友备注 |

   5. 删除好友

      路径：/friends/del

      请求方式：delete

      | 参数 | 例子 | 备注   |
      | ---- | ---- | ------ |
      | uid  | 01   | 用户id |
      | fid  | 02   | 好友id |

      发送一条消息给乙方

      {msg: 你已被好友 “备注” 删除}

   6. 发送消息

      发送信息，本地存储信息

   7. 接受信息

   8. 分享信息



登录 -->通知服务器--->推送给系统

消息格式

客户端--》服务端

{"toName": "张三","message": "你好"}

服务端---》客户端

系统消息格式： {"isSystem": true, "fromName": null,"message": ["李四","王五"]}

推送给某一个的消息格式： {"isSystem": false, "fromName": "张三","message": "你好"}
